---
layout: posts
title: "Back End"
categories: ["Compiler"]
---
## Back End

<img width="1674" height="432" alt="image" src="https://github.com/user-attachments/assets/addee128-ea87-47b5-86e0-6695689ee15d" />

### IR → Machine code

: Back End 는 Front End 가 만든 IR 을 받아서 특정 CPU/ISA 용 기계어로 바꾸는 부분이다.

**(1) Instruction Selection**

- IR 을 연산을 target machine 의 실제 명령어 조합으로 바꿔준다

**(2) Instruction Scheduling**

- 선택된 명령어들을 어떤 순서로 실행하면 가장 빠를지 재배열

**(3) Register Allocation**

- 프로그램의 변수/임시값은 많지만 CPU register 값은 적기 떄문에 부족하면 일부 값을 memory(stack) 에 저장했다가 다시 가져오는데 이걸 spill 이라고 한다.
- spill 을 최소화 하여 성능을 최대한 좋게 하기

Back End 의 Responsibility

- Translate IT into target machine code
    - IR 을 target architecture 용 코드로 변환한다
- Choose instructions to implement each IR operation
    - IR 연산을 어떤 기계 명령들로 구현할지 선택한다.
- Decide which values to keep in registers
    - 어떤 값들을 레지스터에 둘지 결정한다.
- Find optimal order of instruction execution
    - 실행 순서를 최적화한다.
- Ensure conformance with system interfaces
